// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                String @id @default(cuid())
  name              String @default("")
  email             String @unique @default("")
  password          String
  product           User[] @relation("User_product")
  from_User_product User[] @relation("User_product")
}

model Product {
  id                     String         @id @default(cuid())
  name                   String         @default("")
  description            Json           @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  status                 String?        @default("draft")
  productImage_filesize  Int?
  productImage_extension String?
  productImage_width     Int?
  productImage_height    Int?
  productImage_mode      String?
  productImage_id        String?
  prices                 VariantPrice[] @relation("Product_prices")
  sale                   String?        @default("draft")
  saleStart              DateTime?
  saleEnd                DateTime?
  salePrices             VariantPrice[] @relation("Product_salePrices")
}

model Variant {
  id                          String           @id @default(cuid())
  name                        String           @default("")
  from_ProductVariant_variant ProductVariant[] @relation("ProductVariant_variant")
}

model ProductVariant {
  id                        String         @id @default(cuid())
  variant                   Variant?       @relation("ProductVariant_variant", fields: [variantId], references: [id])
  variantId                 String?        @map("variant")
  value                     String         @unique @default("")
  from_VariantPrice_variant VariantPrice[] @relation("VariantPrice_variant")

  @@index([variantId])
}

model VariantPrice {
  id                      String          @id @default(cuid())
  variant                 ProductVariant? @relation("VariantPrice_variant", fields: [variantId], references: [id])
  variantId               String?         @map("variant")
  price                   Decimal?        @postgresql.Decimal(7, 2)
  from_Product_prices     Product[]       @relation("Product_prices")
  from_Product_salePrices Product[]       @relation("Product_salePrices")

  @@index([variantId])
}